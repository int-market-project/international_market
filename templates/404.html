<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Page Not Found</title>
    <link rel="stylesheet" href="/css/main.css">
    <link rel="stylesheet" href="/css/404.css">

    <script>
        (function () {
            const SITE_COOKIE = "site_lang";
            const DAYS = 2;

            function setCookie(name, value, days) {
                const d = new Date();
                d.setTime(d.getTime() + (days * 24 * 60 * 60 * 1000));
                document.cookie = `${name}=${encodeURIComponent(value)}; expires=${d.toUTCString()}; path=/; SameSite=Lax`;
            }

            function getCookie(name) {
                const m = document.cookie.match(new RegExp('(?:^|; )' + name + '=([^;]*)'));
                return m ? decodeURIComponent(m[1]) : null;
            }

            // Default Spanish if no cookie
            let lang = getCookie(SITE_COOKIE);
            if (!lang) {
                lang = "es";
                setCookie(SITE_COOKIE, lang, DAYS);
            }

            // Force Google Translate cookie BEFORE widget runs
            const source = "en";
            const target = (lang === "en") ? "en" : "es";

            document.cookie = `googtrans=/${source}/${target}; path=/; SameSite=Lax`;
            document.cookie = `googtrans=/${source}/${target}; domain=${location.hostname}; path=/; SameSite=Lax`;

            window.__LANG_HELPERS__ = { setCookie, getCookie, SITE_COOKIE, DAYS };

            // Keep generator positioning: bottom-right floating
            window.gtranslateSettings = {
                default_language: "en",
                native_language_names: true,
                languages: ["en", "es"],
                wrapper_selector: ".gtranslate_wrapper",
                horizontal_position: "right",
                vertical_position: "bottom"
            };
        })();
    </script>
    <script src="https://cdn.gtranslate.net/widgets/latest/dropdown.js" defer></script>

</head>

<body>
    <section class="error-page-main-section">
        <div class="error-page-content-container">
            <img src="https://ik.imagekit.io/intmarket/404.png" alt="">
            <h1 class="title quicksand-text rhino-text">Oops! Why you’re here?</h1>
            <p class="text lato-text rhino-text">We are very sorry for inconvenience. It looks like you’re try to access
                a page that either has been deleted or never existed.</p>
            <div class="back-to-home-butotn-container">
                <a href="/" class="back-to-home-button">
                    <div class="back-to-home-button-image-container">
                        <img src="https://ik.imagekit.io/intmarket/icons8-home-100.png" alt="">
                    </div>
                    <p class="white-text text quicksand-text">Back to Home</p>
                </a>
            </div>
        </div>
    </section>
    <script>
        document.addEventListener("DOMContentLoaded", () => {
            const h = window.__LANG_HELPERS__;
            if (!h) return;

            const wrapper = document.querySelector(".gtranslate_wrapper");
            if (!wrapper) return;

            function bind() {
                const select = document.querySelector(".gt_switcher_wrapper select.gt_selector")
                    || wrapper.querySelector("select.gt_selector");
                if (!select) return false;

                select.addEventListener("change", (e) => {
                    const val = e.target.value;
                    if (!val) return;

                    const target = val.split("|")[1]; // "es" or "en"

                    h.setCookie(h.SITE_COOKIE, target, h.DAYS);

                    const source = "en";
                    document.cookie = `googtrans=/${source}/${target}; path=/; SameSite=Lax`;
                    document.cookie = `googtrans=/${source}/${target}; domain=${location.hostname}; path=/; SameSite=Lax`;
                });

                return true;
            }

            if (bind()) return;

            const obs = new MutationObserver(() => {
                if (bind()) obs.disconnect();
            });

            obs.observe(document.documentElement, { childList: true, subtree: true });
        });
    </script>
    <div class="gtranslate_wrapper"></div>
</body>

</html>